(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{108:function(e,t,c){},109:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),s=c(35),i=c.n(s),o=c(16),l=c(4),j=c(6),u=c(11),d=c.n(u),h=c(13),b=c(36),m=c.n(b),x="cd3c450c9fe64efe8c8114500201911",O="https://api.weatherapi.com/v1",f={getLocation:function(e){return p.apply(this,arguments)},getSuggestions:function(e){return g.apply(this,arguments)},getForecast:function(e){return v.apply(this,arguments)}};function p(){return(p=Object(h.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return");case 4:t="".concat(t.lat,",").concat(t.lng);case 5:return e.next=7,w("search",t);case 7:return c=(c=e.sent)[0].name,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w("search",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(h.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c="".concat(t.lat,",").concat(t.lng,"&days=3"),e.next=5,w("forecast",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(d.a.mark((function e(t,c){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(O,"/").concat(t,".json?key=").concat(x,"&q=").concat(c));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("Had trouble getting to: ".concat(t,",\nwith query: ").concat(c)),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var y=Object(j.e)({isMetric:!0,locationMode:null,weatherMode:null,locationCoords:null,weatherInfo:null});window.store=y,Object(j.c)((function(){y.locationCoords&&f.getForecast(y.locationCoords).then((function(e){Object(j.f)((function(){return y.weatherInfo=e}))}))}));var k=c(10),C=c(112),M=c(111),_=Object(M.a)((function(){var e=Object(a.useContext)(U);return Object(n.jsxs)("div",{className:"temp-switch flex align-center gap5",children:[Object(n.jsx)("small",{children:"\xb0F"}),Object(n.jsxs)("label",{className:"switch",children:[Object(n.jsx)("input",{type:"checkbox",onChange:function(){Object(j.f)((function(){return e.isMetric=!e.isMetric}))},checked:e.isMetric}),Object(n.jsx)("span",{className:"slider round"})]}),Object(n.jsx)("small",{children:"\xb0C"})]})})),S=function(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),r=t[0],s=t[1],i=Object(l.f)(),o=function(e){r&&s(!1),i.push(e)};return Object(n.jsxs)("header",{className:"main-container ".concat(r?"open":""),children:[Object(n.jsxs)("div",{className:"flex align-center space-between",children:[Object(n.jsxs)("div",{className:"flex gap5 align-center cursor-pointer",children:[Object(n.jsx)("img",{onClick:function(){return i.push("/")},src:c(71).default,alt:"logo",className:"logo"}),Object(n.jsx)("h1",{onClick:function(){return i.push("/")},children:"Cloudy"}),Object(n.jsx)("nav",{className:"flex align-center",children:Object(n.jsxs)("ul",{className:"clean-list flex align-center",children:[Object(n.jsx)("li",{onClick:function(){return o("/about")},children:"About"}),Object(n.jsx)("li",{onClick:function(){return o("/weather")},children:"Weather"})]})})]}),Object(n.jsx)(_,{}),Object(n.jsx)(C.a,{className:"hamburger",toggled:r,toggle:function(){return s(!r)},rounded:!0})]}),Object(n.jsx)("div",{onClick:function(){return s(!1)},className:"screen ".concat(r?"open":"")})]})},F=c(38),I=c.n(F),L=function(){var e=r.a.useRef(null);Object(a.useEffect)((function(){return O(),e.current=setInterval((function(){O()}),1e3),function(){clearInterval(e.current)}}),[]);var t=Object(a.useState)(""),c=Object(k.a)(t,2),s=c[0],i=c[1],l=Object(a.useState)(""),j=Object(k.a)(l,2),u=j[0],d=j[1],h=Object(a.useState)(""),b=Object(k.a)(h,2),m=b[0],x=b[1],O=function(){var e=I()(),t=e.hour();x(t>=5&&t<12?"Good Morning!":t>=12&&t<18?"Good Afternoon!":t>=18&&t<24?"Good Evening!":"Good Night!"),i(e.format("dddd D/M/YYYY")),d(e.format("HH:mm:ss"))};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)("div",{className:"time flex column align-center space-around",children:[Object(n.jsx)("div",{className:"flex column space-between",children:Object(n.jsx)("h2",{children:m})}),Object(n.jsxs)("h3",{children:["Today is ",s]}),Object(n.jsx)("h3",{children:"The time now is: "}),Object(n.jsx)("h3",{children:u})]}),Object(n.jsx)("div",{className:"cta-btn flex justify-center",children:Object(n.jsx)(o.b,{to:"/weather",children:Object(n.jsx)("button",{children:"Check Weather"})})})]})},P=c.p+"static/media/react-original.7098e271.svg",T=c.p+"static/media/mobx.b2519d0d.svg",W=c.p+"static/media/sass-original.8ec16938.svg",A=function(){return Object(n.jsx)("section",{className:"main-container",children:Object(n.jsxs)("div",{className:"about flex column",children:[Object(n.jsx)("h1",{children:"About"}),Object(n.jsx)("p",{children:"This is a weather app I created."}),Object(n.jsx)("p",{children:"It's main features are:"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Finding out your location"}),Object(n.jsx)("li",{children:"Searching for other locations"}),Object(n.jsx)("li",{children:"Getting weather forecast using weatherapi.com"})]}),Object(n.jsx)("h4",{children:"This app has been coded using these technologies:"}),Object(n.jsxs)("div",{className:"tech-grid",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{alt:"react",src:P}),"React.js"]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{alt:"mobx",src:T}),"MobX"]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{alt:"sass",src:W}),"Sass"]})]})]})})},G=Object(M.a)((function(){var e=Object(a.useContext)(U),t=Object(j.b)((function(t){e.locationMode!==t&&(e.weatherInfo=null,e.locationMode=t)}));return Object(n.jsx)("div",{className:"flex gap10",children:[{mode:"my-location",txt:"My Location"},{mode:"places",txt:"Other Places"}].map((function(c,a){return Object(n.jsx)("button",{className:"mode-btn ".concat(e.locationMode===c.mode?"location-mode-active":""),onClick:function(){return t(c.mode)},children:c.txt},a)}))})})),R=c(39),E=c.n(R),H=function(e){var t=e.places,c=e.pickLocation,r=e.isSearching,s=e.setSearchTerm,i=Object(a.useContext)(U),o=Object(j.b)((function(e){c(e.name);var t={lat:e.lat,lng:e.lon};i.locationCoords=t}));return t.length||r?Object(n.jsx)("ul",{className:"suggest-list clean-list",children:t.map((function(e,t){return Object(n.jsx)("li",{className:"suggest cursor-pointer",onClick:function(){return o(e)},children:e.name},t)}))}):Object(n.jsxs)("div",{className:"no-results flex column align-center",children:[Object(n.jsx)("h3",{className:"mb5",children:"No results found..."}),Object(n.jsx)("button",{onClick:function(){return s("")},children:"Clear search"})]})},Y=c(40),B=Object(M.a)((function(){var e=Object(a.useContext)(U),t=e.locationMode,c=Object(a.useState)(""),r=Object(k.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(k.a)(o,2),u=l[0],b=l[1],m=Object(a.useState)([]),x=Object(k.a)(m,2),O=x[0],p=x[1],g=Object(a.useRef)(null),v="my-location"===t;Object(a.useEffect)((function(){w(null),i(""),b(!1),"places"!==t?v&&(navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var c={lat:t.coords.latitude,lng:t.coords.longitude};f.getLocation(c).then((function(e){return i(e)})),Object(j.f)((function(){return e.locationCoords=c}))}),function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.code&&alert('Allow Location discovery to use "My Location" feature');case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):alert("Geolocation is not supported by this browser")):g.current.focus()}),[t]);var w=Object(a.useRef)(E.a.debounce((function(e){e&&f.getSuggestions(e).then((function(e){p(e),b(!1)}))}),1500)).current;return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{ref:g,className:"location",type:"search",value:s,placeholder:v?"Getting your location...":"Search for Location",onChange:function(t){return c=t.target.value,Object(j.f)((function(){return e.weatherInfo=null})),p([]),i(c),b(!0),w(c),void(c||b(!1));var c},disabled:v}),Object(n.jsxs)("div",{children:[!v&&u&&Object(n.jsx)(Y.WindMillLoading,{size:"large",className:"loading"}),!v&&!!s&&Object(n.jsx)(H,{isSearching:u,pickLocation:function(e){p([]),i(e)},places:O,setSearchTerm:i})]})]})}));function D(e){var t=e.current,c=e.location,a=e.isMetric,s=c.localtime.split(" ").splice(1,1)[0],i=t.last_updated;i=(i=i.split(" "))[1];var o=a?t.temp_c:t.temp_f,l=a?t.feelslike_c:t.feelslike_f,j=a?"".concat(t.precip_mm,"mm"):"".concat(t.precip_in,"in."),u="".concat(t.wind_dir," ").concat(a?t.wind_kph:t.wind_mph," ").concat(a?"kph":"mph");return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)("div",{className:"current-title text-center",children:[Object(n.jsx)("h3",{children:"Current Weather:"}),Object(n.jsxs)("small",{className:"last-update",children:[" (as of ",i,")"]})]}),Object(n.jsxs)("article",{className:"current mb15",children:[Object(n.jsxs)("div",{className:"local-time",children:["Local time: ",s]}),Object(n.jsx)("h2",{className:"condition",children:t.condition.text}),Object(n.jsx)("div",{className:"condition-img",children:Object(n.jsx)("img",{src:t.condition.icon,alt:"condition"})}),Object(n.jsxs)("h3",{className:"temp",children:["Temperature: ",o,"\xb0",a?"C":"F"]}),Object(n.jsxs)("h3",{className:"feels",children:["Feels Like: ",l,"\xb0",a?"C":"F"]}),Object(n.jsxs)("div",{className:"extra-info",children:[Object(n.jsxs)("div",{className:"precip",children:["Precipitation: ",j]}),Object(n.jsxs)("div",{className:"humidity",children:["Humidity: ",t.humidity,"%"]}),Object(n.jsxs)("div",{className:"wind",children:["Wind: ",u]})]})]})]})}function q(e){var t=e.isMetric,c=e.forecast.forecastday;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("h3",{className:"text-center",children:"3 Day Forecast:"}),Object(n.jsx)("article",{className:"forecast mb15",children:c.map((function(e){var c=e.day,a=e.date.split("-").reverse().join("/"),r=t?"".concat(c.mintemp_c," - ").concat(c.maxtemp_c,"\xb0C"):"".concat(c.mintemp_f," - ").concat(c.maxtemp_f,"\xb0F"),s=t?c.maxwind_kph+" kph":c.maxwind_mph+" mph";return Object(n.jsxs)("div",{className:"forecast-day",children:[Object(n.jsx)("div",{className:"date",children:a}),Object(n.jsx)("div",{className:"condition",children:c.condition.text}),Object(n.jsx)("div",{className:"condition-img",children:Object(n.jsx)("img",{src:c.condition.icon,alt:"condition"})}),Object(n.jsxs)("div",{className:"temp",children:["Temperatures: ",r]}),Object(n.jsxs)("div",{className:"wind",children:["Max wind: ",s]}),Object(n.jsxs)("div",{className:"rain",children:["Rain chance: ",c.daily_chance_of_rain,"%"]}),Object(n.jsxs)("div",{className:"snow",children:["Snow chance: ",c.daily_chance_of_snow,"%"]})]},e.date)}))})]})}var z=Object(M.a)((function(){var e=Object(a.useContext)(U),t=e.weatherInfo,c=e.isMetric,r=t.current,s=t.forecast,i=t.location;return Object(n.jsxs)("section",{children:[Object(n.jsx)(D,{location:i,current:r,isMetric:c}),Object(n.jsx)(q,{forecast:s,isMetric:c})]})})),J=Object(M.a)((function(){var e=Object(a.useContext)(U);return Object(n.jsxs)("section",{className:"weather flex column align-center flex-1",children:[Object(n.jsx)(G,{}),Object(n.jsx)(B,{}),e.weatherInfo&&Object(n.jsx)(z,{})]})})),X=c.p+"static/media/github-original.fad4b944.svg",K=c.p+"static/media/linkedin-original.6494960c.svg",Q=function(){return Object(n.jsxs)("footer",{className:"flex align-center space-between",children:[Object(n.jsxs)("div",{className:"flex align-center gap5",children:[Object(n.jsx)("a",{href:"https://www.weatherapi.com/",title:"Free Weather API",children:Object(n.jsx)("img",{src:"//cdn.weatherapi.com/v4/images/weatherapi_logo.png",alt:"Weather data by WeatherAPI.com",border:"0"})}),Object(n.jsxs)("div",{className:"powered-by",children:["Powered by ",Object(n.jsx)("a",{href:"https://www.weatherapi.com/",title:"Weather API",children:"WeatherAPI.com"})]})]}),Object(n.jsxs)("div",{className:"copyright flex flex-end gap10",children:[Object(n.jsx)("a",{href:"https://github.com/tzookyb",children:Object(n.jsx)("img",{className:"social",src:X,title:"to my github profile",alt:"github"})}),Object(n.jsx)("a",{href:"https://www.linkedin.com/in/idanbenjamin",children:Object(n.jsx)("img",{className:"social",src:K,title:"to my linkedin profile",alt:"linkedin"})}),Object(n.jsxs)("small",{children:["\xa9 2020",Object(n.jsx)("br",{})," Idan Benjamin"]})]})]})},U=r.a.createContext(),V=function(e){var t=e.children;return Object(n.jsx)(U.Provider,{value:y,children:t})};function Z(){return Object(n.jsx)(V,{children:Object(n.jsxs)("div",{className:"app flex column",children:[Object(n.jsx)(S,{}),Object(n.jsx)("main",{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{component:A,path:"/about"}),Object(n.jsx)(l.a,{component:J,path:"/weather"}),Object(n.jsx)(l.a,{component:L,path:"/"})]})}),Object(n.jsx)(Q,{})]})})}c(108);var $=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,113)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};console.clear(),i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(Z,{})})}),document.getElementById("root")),$()},71:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/logo.e50c6087.png"}},[[109,1,2]]]);
//# sourceMappingURL=main.41871a47.chunk.js.map