(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),i=n(36),s=n.n(i),o=n(16),l=n(4),u=n(5),d=n(10),j=n.n(d),h=n(13),b=n(37),f=n.n(b),m="cd3c450c9fe64efe8c8114500201911",x="https://api.weatherapi.com/v1",p={getLocation:function(e){return O.apply(this,arguments)},getSuggestions:function(e){return g.apply(this,arguments)},getForecast:function(e){return v.apply(this,arguments)}};function O(){return(O=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return");case 4:t="".concat(t.lat,",").concat(t.lng);case 5:return e.next=7,w("search",t);case 7:return n=(n=e.sent)[0].name,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w("search",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n="".concat(t.lat,",").concat(t.lng,"&days=3"),e.next=5,w("forecast",n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(j.a.mark((function e(t,n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(x,"/").concat(t,".json?key=").concat(m,"&q=").concat(n));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("Had trouble getting to: ".concat(t,",\nwith query: ").concat(n)),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var y=Object(u.e)({isMetric:!0,locationMode:null,weatherMode:null,locationCoords:null,weatherInfo:null});Object(u.c)((function(){y.locationCoords&&p.getForecast(y.locationCoords).then((function(e){Object(u.g)((function(){return y.weatherInfo=e}))}))}));var k=n(12),C=n(113),M=n(112),_=Object(M.a)((function(){var e=Object(r.useContext)(Q);return Object(c.jsxs)("div",{className:"temp-switch flex align-center gap5",children:[Object(c.jsx)("small",{children:"\xb0F"}),Object(c.jsxs)("label",{className:"switch",children:[Object(c.jsx)("input",{type:"checkbox",onChange:function(){Object(u.g)((function(){return e.isMetric=!e.isMetric}))},checked:e.isMetric}),Object(c.jsx)("span",{className:"slider round"})]}),Object(c.jsx)("small",{children:"\xb0C"})]})})),W=function(){var e=Object(r.useState)(!1),t=Object(k.a)(e,2),a=t[0],i=t[1],s=Object(l.f)(),o=function(e){a&&i(!1),s.push(e)};return Object(c.jsxs)("header",{className:"main-container ".concat(a?"open":""),children:[Object(c.jsxs)("div",{className:"flex align-center space-between",children:[Object(c.jsxs)("div",{className:"flex gap5 align-center cursor-pointer",children:[Object(c.jsx)("img",{onClick:function(){return s.push("/")},src:n(71).default,alt:"logo",className:"logo"}),Object(c.jsx)("h1",{onClick:function(){return s.push("/")},children:"Cloudy"}),Object(c.jsx)("nav",{className:"flex align-center",children:Object(c.jsxs)("ul",{className:"clean-list flex align-center",children:[Object(c.jsx)("li",{onClick:function(){return o("/about")},children:"About"}),Object(c.jsx)("li",{onClick:function(){return o("/weather")},children:"Weather"})]})})]}),Object(c.jsx)(_,{}),Object(c.jsx)(C.a,{className:"hamburger",toggled:a,toggle:function(){return i(!a)},rounded:!0})]}),Object(c.jsx)("div",{onClick:function(){return i(!1)},className:"screen ".concat(a?"open":"")})]})},I=n(24),S=n.n(I),F=n(111),L=Object(M.a)((function(){var e=a.a.useRef(null),t=Object(F.a)((function(){return{now:S()(),get time(){return this.now.format("HH:mm:ss")},get date(){return this.now.format("dddd D/M/YYYY")},get hour(){return this.now.hour()},get greet(){return this.hour>=5&&this.hour<12?"Good Morning!":this.hour>=12&&this.hour<18?"Good Afternoon!":this.hour>=18&&this.hour<24?"Good Evening!":"Good Night!"}}}));return Object(r.useEffect)((function(){return e.current=setInterval((function(){Object(u.g)((function(){return t.now=S()()}))}),1e3),function(){clearInterval(e.current)}}),[]),Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsxs)("div",{className:"time flex column align-center space-around",children:[Object(c.jsx)("div",{className:"flex column space-between",children:Object(c.jsx)("h2",{children:t.greet})}),Object(c.jsxs)("h3",{children:["Today is ",t.date]}),Object(c.jsx)("h3",{children:"The time now is: "}),Object(c.jsx)("h3",{children:t.time})]}),Object(c.jsx)("div",{className:"cta-btn flex justify-center",children:Object(c.jsx)(o.b,{to:"/weather",children:Object(c.jsx)("button",{children:"Check Weather"})})})]})})),A=n.p+"static/media/react-original.7098e271.svg",P=n.p+"static/media/mobx.b2519d0d.svg",T=n.p+"static/media/sass-original.8ec16938.svg",R=function(){return Object(c.jsx)("section",{className:"main-container",children:Object(c.jsxs)("div",{className:"about flex column",children:[Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)("p",{children:"This is a weather app I created to experiment with MobX State Management."}),Object(c.jsx)("p",{children:"It's main features are:"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Clock + Date"}),Object(c.jsx)("li",{children:"Weather forecast for your geolocation"}),Object(c.jsx)("li",{children:"Weather forecast for other locations"}),Object(c.jsx)("li",{children:"Information represented in Metric/Imperial system"})]}),Object(c.jsx)("h4",{children:"This app has been coded using these technologies:"}),Object(c.jsxs)("div",{className:"tech-grid",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{alt:"react",src:A}),"React.js"]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{alt:"mobx",src:P}),"MobX"]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{alt:"sass",src:T}),"Sass"]})]}),Object(c.jsx)("h4",{children:"Weather information by WeatherAPI.com"})]})})},E=Object(M.a)((function(){var e=Object(r.useContext)(Q),t=Object(u.b)((function(t){e.locationMode!==t&&(e.weatherInfo=null,e.locationMode=t)}));return Object(c.jsx)("div",{className:"flex gap10",children:[{mode:"my-location",txt:"My Location"},{mode:"places",txt:"Other Places"}].map((function(n,r){return Object(c.jsx)("button",{className:"mode-btn ".concat(e.locationMode===n.mode?"location-mode-active":""),onClick:function(){return t(n.mode)},children:n.txt},r)}))})})),G=n(39),B=n.n(G),D=function(e){var t=e.places,n=e.pickLocation,r=e.isSearching,a=e.setSearchTerm;return t.length||r?Object(c.jsx)("ul",{className:"suggest-list clean-list",children:t.map((function(e,t){return Object(c.jsx)("li",{className:"suggest cursor-pointer",onClick:function(){return n(e)},children:e.name},t)}))}):Object(c.jsxs)("div",{className:"no-results flex column align-center",children:[Object(c.jsx)("h3",{className:"mb5",children:"No results found..."}),Object(c.jsx)("button",{onClick:function(){return a("")},children:"Clear search"})]})},H=n(40),Y=Object(M.a)((function(){var e=Object(r.useContext)(Q),t=e.locationMode,n=e.locationCoords,a=Object(r.useState)(""),i=Object(k.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(k.a)(l,2),b=d[0],f=d[1],m=Object(r.useState)([]),x=Object(k.a)(m,2),O=x[0],g=x[1],v=Object(r.useRef)(null),w="my-location"===t;Object(r.useEffect)((function(){N(null),o(""),f(!1),"places"!==t?w&&(navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var n={lat:t.coords.latitude,lng:t.coords.longitude};p.getLocation(n).then((function(e){return o(e)})),Object(u.g)((function(){return e.locationCoords=n}))}),function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.code&&alert('Allow Location discovery to use "My Location" feature');case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):alert("Geolocation is not supported by this browser")):v.current.focus()}),[t]);var N=Object(r.useRef)(B.a.debounce((function(e){e&&p.getSuggestions(e).then((function(e){g(e),f(!1)}))}),1500)).current;return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{ref:v,className:"location",type:"search",value:s,placeholder:w?"Getting your location...":"Search for Location",onChange:function(t){return n=t.target.value,Object(u.g)((function(){e.locationCoords=null,e.weatherInfo=null})),g([]),o(n),f(!0),N(n),void(n||f(!1));var n},disabled:w}),Object(c.jsxs)("div",{children:[!w&&b&&Object(c.jsx)(H.WindMillLoading,{size:"large",className:"loading"}),!w&&!n&&!!s&&Object(c.jsx)(D,{isSearching:b,pickLocation:function(t){var n={lat:t.lat,lng:t.lon};Object(u.g)((function(){return e.locationCoords=n})),g([]),o(t.name)},places:O,setSearchTerm:o})]})]})}));function U(e){var t=e.current,n=e.location,r=e.isMetric,i=n.localtime.split(" ").splice(1,1)[0],s=t.last_updated;s=(s=s.split(" "))[1];var o=r?t.temp_c:t.temp_f,l=r?t.feelslike_c:t.feelslike_f,u=r?"".concat(t.precip_mm,"mm"):"".concat(t.precip_in,"in."),d="".concat(t.wind_dir," ").concat(r?t.wind_kph:t.wind_mph," ").concat(r?"kph":"mph");return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsxs)("div",{className:"current-title text-center",children:[Object(c.jsx)("h3",{children:"Current Weather:"}),Object(c.jsxs)("small",{className:"last-update",children:[" (as of ",s,")"]})]}),Object(c.jsxs)("article",{className:"current mb15",children:[Object(c.jsxs)("div",{className:"local-time",children:["Local time: ",i]}),Object(c.jsx)("h2",{className:"condition",children:t.condition.text}),Object(c.jsx)("div",{className:"condition-img",children:Object(c.jsx)("img",{src:t.condition.icon,alt:"condition"})}),Object(c.jsxs)("h3",{className:"temp",children:["Temperature: ",o,"\xb0",r?"C":"F"]}),Object(c.jsxs)("h3",{className:"feels",children:["Feels Like: ",l,"\xb0",r?"C":"F"]}),Object(c.jsxs)("div",{className:"extra-info",children:[Object(c.jsxs)("div",{className:"precip",children:["Precipitation: ",u]}),Object(c.jsxs)("div",{className:"humidity",children:["Humidity: ",t.humidity,"%"]}),Object(c.jsxs)("div",{className:"wind",children:["Wind: ",d]})]})]})]})}function q(e){var t=e.isMetric,n=e.forecast.forecastday;return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("h3",{className:"text-center",children:"3 Day Forecast:"}),Object(c.jsx)("article",{className:"forecast mb15",children:n.map((function(e){var n=e.day,r=e.date.split("-").reverse().join("/"),a=t?"".concat(n.mintemp_c," - ").concat(n.maxtemp_c,"\xb0C"):"".concat(n.mintemp_f," - ").concat(n.maxtemp_f,"\xb0F"),i=t?n.maxwind_kph+" kph":n.maxwind_mph+" mph";return Object(c.jsxs)("div",{className:"forecast-day",children:[Object(c.jsx)("div",{className:"date",children:r}),Object(c.jsx)("div",{className:"condition",children:n.condition.text}),Object(c.jsx)("div",{className:"condition-img",children:Object(c.jsx)("img",{src:n.condition.icon,alt:"condition"})}),Object(c.jsxs)("div",{className:"temp",children:["Temperatures: ",a]}),Object(c.jsxs)("div",{className:"wind",children:["Max wind: ",i]}),Object(c.jsxs)("div",{className:"rain",children:["Rain chance: ",n.daily_chance_of_rain,"%"]}),Object(c.jsxs)("div",{className:"snow",children:["Snow chance: ",n.daily_chance_of_snow,"%"]})]},e.date)}))})]})}var z=Object(M.a)((function(){var e=Object(r.useContext)(Q),t=e.weatherInfo,n=e.isMetric,a=t.current,i=t.forecast,s=t.location;return Object(c.jsxs)("section",{children:[Object(c.jsx)(U,{location:s,current:a,isMetric:n}),Object(c.jsx)(q,{forecast:i,isMetric:n})]})})),J=Object(M.a)((function(){var e=Object(r.useContext)(Q);return Object(c.jsxs)("section",{className:"weather flex column align-center flex-1",children:[Object(c.jsx)(E,{}),Object(c.jsx)(Y,{}),e.weatherInfo&&Object(c.jsx)(z,{})]})})),X=n.p+"static/media/github-original.fad4b944.svg",$=n.p+"static/media/linkedin-original.6494960c.svg",K=function(){return Object(c.jsxs)("footer",{className:"flex align-center space-between",children:[Object(c.jsxs)("div",{className:"flex align-center gap5",children:[Object(c.jsx)("a",{href:"https://www.weatherapi.com/",title:"Free Weather API",children:Object(c.jsx)("img",{src:"//cdn.weatherapi.com/v4/images/weatherapi_logo.png",alt:"Weather data by WeatherAPI.com",border:"0"})}),Object(c.jsxs)("div",{className:"powered-by",children:["Powered by ",Object(c.jsx)("a",{href:"https://www.weatherapi.com/",title:"Weather API",children:"WeatherAPI.com"})]})]}),Object(c.jsxs)("div",{className:"copyright flex flex-end gap10",children:[Object(c.jsx)("a",{href:"https://github.com/tzookyb",children:Object(c.jsx)("img",{className:"social",src:X,title:"to my github profile",alt:"github"})}),Object(c.jsx)("a",{href:"https://www.linkedin.com/in/idanbenjamin",children:Object(c.jsx)("img",{className:"social",src:$,title:"to my linkedin profile",alt:"linkedin"})}),Object(c.jsxs)("small",{children:["\xa9 2020",Object(c.jsx)("br",{})," Idan Benjamin"]})]})]})},Q=a.a.createContext(),V=function(e){var t=e.children;return Object(c.jsx)(Q.Provider,{value:y,children:t})};function Z(){return Object(c.jsx)(V,{children:Object(c.jsxs)("div",{className:"app flex column",children:[Object(c.jsx)(W,{}),Object(c.jsx)("main",{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{component:R,path:"/about"}),Object(c.jsx)(l.a,{component:J,path:"/weather"}),Object(c.jsx)(l.a,{component:L,path:"/"})]})}),Object(c.jsx)(K,{})]})})}var ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(108);var ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,114)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};console.clear(),s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(o.a,{children:Object(c.jsx)(Z,{})})}),document.getElementById("root")),ne(),function(e){if("serviceWorker"in navigator){if(new URL("/cloudy",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cloudy","/sw.js");ee?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):te(t,e)}))}}()},71:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo.e50c6087.png"}},[[109,1,2]]]);
//# sourceMappingURL=main.2e649520.chunk.js.map