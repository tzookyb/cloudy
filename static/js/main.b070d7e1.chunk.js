(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{108:function(e,t,c){},109:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),s=c(36),i=c.n(s),o=c(16),l=c(4),j=c(5),u=c(10),d=c.n(u),h=c(13),b=c(37),m=c.n(b),x="cd3c450c9fe64efe8c8114500201911",f="https://api.weatherapi.com/v1",O={getLocation:function(e){return p.apply(this,arguments)},getSuggestions:function(e){return g.apply(this,arguments)},getForecast:function(e){return v.apply(this,arguments)}};function p(){return(p=Object(h.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return");case 4:t="".concat(t.lat,",").concat(t.lng);case 5:return e.next=7,w("search",t);case 7:return c=(c=e.sent)[0].name,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w("search",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(h.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c="".concat(t.lat,",").concat(t.lng,"&days=3"),e.next=5,w("forecast",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(d.a.mark((function e(t,c){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(f,"/").concat(t,".json?key=").concat(x,"&q=").concat(c));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("Had trouble getting to: ".concat(t,",\nwith query: ").concat(c)),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var y=Object(j.e)({isMetric:!0,locationMode:null,weatherMode:null,locationCoords:null,weatherInfo:null});Object(j.c)((function(){y.locationCoords&&O.getForecast(y.locationCoords).then((function(e){Object(j.g)((function(){return y.weatherInfo=e}))}))}));var k=c(12),C=c(113),M=c(112),_=Object(M.a)((function(){var e=Object(a.useContext)(V);return Object(n.jsxs)("div",{className:"temp-switch flex align-center gap5",children:[Object(n.jsx)("small",{children:"\xb0F"}),Object(n.jsxs)("label",{className:"switch",children:[Object(n.jsx)("input",{type:"checkbox",onChange:function(){Object(j.g)((function(){return e.isMetric=!e.isMetric}))},checked:e.isMetric}),Object(n.jsx)("span",{className:"slider round"})]}),Object(n.jsx)("small",{children:"\xb0C"})]})})),I=function(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),r=t[0],s=t[1],i=Object(l.f)(),o=function(e){r&&s(!1),i.push(e)};return Object(n.jsxs)("header",{className:"main-container ".concat(r?"open":""),children:[Object(n.jsxs)("div",{className:"flex align-center space-between",children:[Object(n.jsxs)("div",{className:"flex gap5 align-center cursor-pointer",children:[Object(n.jsx)("img",{onClick:function(){return i.push("/")},src:c(71).default,alt:"logo",className:"logo"}),Object(n.jsx)("h1",{onClick:function(){return i.push("/")},children:"Cloudy"}),Object(n.jsx)("nav",{className:"flex align-center",children:Object(n.jsxs)("ul",{className:"clean-list flex align-center",children:[Object(n.jsx)("li",{onClick:function(){return o("/about")},children:"About"}),Object(n.jsx)("li",{onClick:function(){return o("/weather")},children:"Weather"})]})})]}),Object(n.jsx)(_,{}),Object(n.jsx)(C.a,{className:"hamburger",toggled:r,toggle:function(){return s(!r)},rounded:!0})]}),Object(n.jsx)("div",{onClick:function(){return s(!1)},className:"screen ".concat(r?"open":"")})]})},F=c(24),S=c.n(F),W=c(111),L=Object(M.a)((function(){var e=r.a.useRef(null),t=Object(W.a)((function(){return{now:S()(),get time(){return this.now.format("HH:mm:ss")},get date(){return this.now.format("dddd D/M/YYYY")},get hour(){return this.now.hour()},get greet(){return this.hour>=5&&this.hour<12?"Good Morning!":this.hour>=12&&this.hour<18?"Good Afternoon!":this.hour>=18&&this.hour<24?"Good Evening!":"Good Night!"}}}));return Object(a.useEffect)((function(){return e.current=setInterval((function(){Object(j.g)((function(){return t.now=S()()}))}),1e3),function(){clearInterval(e.current)}}),[]),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)("div",{className:"time flex column align-center space-around",children:[Object(n.jsx)("div",{className:"flex column space-between",children:Object(n.jsx)("h2",{children:t.greet})}),Object(n.jsxs)("h3",{children:["Today is ",t.date]}),Object(n.jsx)("h3",{children:"The time now is: "}),Object(n.jsx)("h3",{children:t.time})]}),Object(n.jsx)("div",{className:"cta-btn flex justify-center",children:Object(n.jsx)(o.b,{to:"/weather",children:Object(n.jsx)("button",{children:"Check Weather"})})})]})})),P=c.p+"static/media/react-original.7098e271.svg",T=c.p+"static/media/mobx.b2519d0d.svg",A=c.p+"static/media/sass-original.8ec16938.svg",G=function(){return Object(n.jsx)("section",{className:"main-container",children:Object(n.jsxs)("div",{className:"about flex column",children:[Object(n.jsx)("h1",{children:"About"}),Object(n.jsx)("p",{children:"This is a weather app I created to experiment with MobX State Management."}),Object(n.jsx)("p",{children:"It's main features are:"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Clock + Date"}),Object(n.jsx)("li",{children:"Weather forecast for your geolocation"}),Object(n.jsx)("li",{children:"Weather forecast for other locations"}),Object(n.jsx)("li",{children:"Information represented in Metric/Imperial system"})]}),Object(n.jsx)("h4",{children:"This app has been coded using these technologies:"}),Object(n.jsxs)("div",{className:"tech-grid",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{alt:"react",src:P}),"React.js"]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{alt:"mobx",src:T}),"MobX"]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{alt:"sass",src:A}),"Sass"]})]}),Object(n.jsx)("h4",{children:"Weather information by WeatherAPI.com"})]})})},R=Object(M.a)((function(){var e=Object(a.useContext)(V),t=Object(j.b)((function(t){e.locationMode!==t&&(e.weatherInfo=null,e.locationMode=t)}));return Object(n.jsx)("div",{className:"flex gap10",children:[{mode:"my-location",txt:"My Location"},{mode:"places",txt:"Other Places"}].map((function(c,a){return Object(n.jsx)("button",{className:"mode-btn ".concat(e.locationMode===c.mode?"location-mode-active":""),onClick:function(){return t(c.mode)},children:c.txt},a)}))})})),D=c(39),E=c.n(D),H=function(e){var t=e.places,c=e.pickLocation,a=e.isSearching,r=e.setSearchTerm;return t.length||a?Object(n.jsx)("ul",{className:"suggest-list clean-list",children:t.map((function(e,t){return Object(n.jsx)("li",{className:"suggest cursor-pointer",onClick:function(){return c(e)},children:e.name},t)}))}):Object(n.jsxs)("div",{className:"no-results flex column align-center",children:[Object(n.jsx)("h3",{className:"mb5",children:"No results found..."}),Object(n.jsx)("button",{onClick:function(){return r("")},children:"Clear search"})]})},Y=c(40),B=Object(M.a)((function(){var e=Object(a.useContext)(V),t=e.locationMode,c=e.locationCoords,r=Object(a.useState)(""),s=Object(k.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(!1),u=Object(k.a)(l,2),b=u[0],m=u[1],x=Object(a.useState)([]),f=Object(k.a)(x,2),p=f[0],g=f[1],v=Object(a.useRef)(null),w="my-location"===t;Object(a.useEffect)((function(){N(null),o(""),m(!1),"places"!==t?w&&(navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var c={lat:t.coords.latitude,lng:t.coords.longitude};O.getLocation(c).then((function(e){return o(e)})),Object(j.g)((function(){return e.locationCoords=c}))}),function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.code&&alert('Allow Location discovery to use "My Location" feature');case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):alert("Geolocation is not supported by this browser")):v.current.focus()}),[t]);var N=Object(a.useRef)(E.a.debounce((function(e){e&&O.getSuggestions(e).then((function(e){g(e),m(!1)}))}),1500)).current;return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{ref:v,className:"location",type:"search",value:i,placeholder:w?"Getting your location...":"Search for Location",onChange:function(t){return c=t.target.value,Object(j.g)((function(){e.locationCoords=null,e.weatherInfo=null})),g([]),o(c),m(!0),N(c),void(c||m(!1));var c},disabled:w}),Object(n.jsxs)("div",{children:[!w&&b&&Object(n.jsx)(Y.WindMillLoading,{size:"large",className:"loading"}),!w&&!c&&!!i&&Object(n.jsx)(H,{isSearching:b,pickLocation:function(t){var c={lat:t.lat,lng:t.lon};Object(j.g)((function(){return e.locationCoords=c})),g([]),o(t.name)},places:p,setSearchTerm:o})]})]})}));function q(e){var t=e.current,c=e.location,a=e.isMetric,s=c.localtime.split(" ").splice(1,1)[0],i=t.last_updated;i=(i=i.split(" "))[1];var o=a?t.temp_c:t.temp_f,l=a?t.feelslike_c:t.feelslike_f,j=a?"".concat(t.precip_mm,"mm"):"".concat(t.precip_in,"in."),u="".concat(t.wind_dir," ").concat(a?t.wind_kph:t.wind_mph," ").concat(a?"kph":"mph");return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)("div",{className:"current-title text-center",children:[Object(n.jsx)("h3",{children:"Current Weather:"}),Object(n.jsxs)("small",{className:"last-update",children:[" (as of ",i,")"]})]}),Object(n.jsxs)("article",{className:"current mb15",children:[Object(n.jsxs)("div",{className:"local-time",children:["Local time: ",s]}),Object(n.jsx)("h2",{className:"condition",children:t.condition.text}),Object(n.jsx)("div",{className:"condition-img",children:Object(n.jsx)("img",{src:t.condition.icon,alt:"condition"})}),Object(n.jsxs)("h3",{className:"temp",children:["Temperature: ",o,"\xb0",a?"C":"F"]}),Object(n.jsxs)("h3",{className:"feels",children:["Feels Like: ",l,"\xb0",a?"C":"F"]}),Object(n.jsxs)("div",{className:"extra-info",children:[Object(n.jsxs)("div",{className:"precip",children:["Precipitation: ",j]}),Object(n.jsxs)("div",{className:"humidity",children:["Humidity: ",t.humidity,"%"]}),Object(n.jsxs)("div",{className:"wind",children:["Wind: ",u]})]})]})]})}function z(e){var t=e.isMetric,c=e.forecast.forecastday;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("h3",{className:"text-center",children:"3 Day Forecast:"}),Object(n.jsx)("article",{className:"forecast mb15",children:c.map((function(e){var c=e.day,a=e.date.split("-").reverse().join("/"),r=t?"".concat(c.mintemp_c," - ").concat(c.maxtemp_c,"\xb0C"):"".concat(c.mintemp_f," - ").concat(c.maxtemp_f,"\xb0F"),s=t?c.maxwind_kph+" kph":c.maxwind_mph+" mph";return Object(n.jsxs)("div",{className:"forecast-day",children:[Object(n.jsx)("div",{className:"date",children:a}),Object(n.jsx)("div",{className:"condition",children:c.condition.text}),Object(n.jsx)("div",{className:"condition-img",children:Object(n.jsx)("img",{src:c.condition.icon,alt:"condition"})}),Object(n.jsxs)("div",{className:"temp",children:["Temperatures: ",r]}),Object(n.jsxs)("div",{className:"wind",children:["Max wind: ",s]}),Object(n.jsxs)("div",{className:"rain",children:["Rain chance: ",c.daily_chance_of_rain,"%"]}),Object(n.jsxs)("div",{className:"snow",children:["Snow chance: ",c.daily_chance_of_snow,"%"]})]},e.date)}))})]})}var J=Object(M.a)((function(){var e=Object(a.useContext)(V),t=e.weatherInfo,c=e.isMetric,r=t.current,s=t.forecast,i=t.location;return Object(n.jsxs)("section",{children:[Object(n.jsx)(q,{location:i,current:r,isMetric:c}),Object(n.jsx)(z,{forecast:s,isMetric:c})]})})),X=Object(M.a)((function(){var e=Object(a.useContext)(V);return Object(n.jsxs)("section",{className:"weather flex column align-center flex-1",children:[Object(n.jsx)(R,{}),Object(n.jsx)(B,{}),e.weatherInfo&&Object(n.jsx)(J,{})]})})),K=c.p+"static/media/github-original.fad4b944.svg",Q=c.p+"static/media/linkedin-original.6494960c.svg",U=function(){return Object(n.jsxs)("footer",{className:"flex align-center space-between",children:[Object(n.jsxs)("div",{className:"flex align-center gap5",children:[Object(n.jsx)("a",{href:"https://www.weatherapi.com/",title:"Free Weather API",children:Object(n.jsx)("img",{src:"//cdn.weatherapi.com/v4/images/weatherapi_logo.png",alt:"Weather data by WeatherAPI.com",border:"0"})}),Object(n.jsxs)("div",{className:"powered-by",children:["Powered by ",Object(n.jsx)("a",{href:"https://www.weatherapi.com/",title:"Weather API",children:"WeatherAPI.com"})]})]}),Object(n.jsxs)("div",{className:"copyright flex flex-end gap10",children:[Object(n.jsx)("a",{href:"https://github.com/tzookyb",children:Object(n.jsx)("img",{className:"social",src:K,title:"to my github profile",alt:"github"})}),Object(n.jsx)("a",{href:"https://www.linkedin.com/in/idanbenjamin",children:Object(n.jsx)("img",{className:"social",src:Q,title:"to my linkedin profile",alt:"linkedin"})}),Object(n.jsxs)("small",{children:["\xa9 2020",Object(n.jsx)("br",{})," Idan Benjamin"]})]})]})},V=r.a.createContext(),Z=function(e){var t=e.children;return Object(n.jsx)(V.Provider,{value:y,children:t})};function $(){return Object(n.jsx)(Z,{children:Object(n.jsxs)("div",{className:"app flex column",children:[Object(n.jsx)(I,{}),Object(n.jsx)("main",{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{component:G,path:"/about"}),Object(n.jsx)(l.a,{component:X,path:"/weather"}),Object(n.jsx)(l.a,{component:L,path:"/"})]})}),Object(n.jsx)(U,{})]})})}c(108);var ee=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,114)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};console.clear(),i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)($,{})})}),document.getElementById("root")),ee()},71:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/logo.e50c6087.png"}},[[109,1,2]]]);
//# sourceMappingURL=main.b070d7e1.chunk.js.map