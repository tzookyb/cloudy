(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{112:function(e,t,n){},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e){if("serviceWorker"in navigator){if(new URL("/cloudy",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cloudy","/service-worker.js");c?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):a(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):a(t,e)}))}}function a(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}},44:function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return Q}));var c=n(1),r=n(0),a=n.n(r),i=n(4),s=n(5),o=n(10),l=n.n(o),u=n(13),d=n(37),j=n.n(d),h="cd3c450c9fe64efe8c8114500201911",b="https://api.weatherapi.com/v1",f={getLocation:function(e){return m.apply(this,arguments)},getSuggestions:function(e){return x.apply(this,arguments)},getForecast:function(e){return p.apply(this,arguments)}};function m(){return(m=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return");case 4:t="".concat(t.lat,",").concat(t.lng);case 5:return e.next=7,O("search",t);case 7:return n=(n=e.sent)[0].name,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O("search",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n="".concat(t.lat,",").concat(t.lng,"&days=3"),e.next=5,O("forecast",n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(b,"/").concat(t,".json?key=").concat(h,"&q=").concat(n));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("Had trouble getting to: ".concat(t,",\nwith query: ").concat(n)),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var v=Object(s.e)({isMetric:!0,locationMode:null,weatherMode:null,locationCoords:null,weatherInfo:null});Object(s.c)((function(){v.locationCoords&&f.getForecast(v.locationCoords).then((function(e){Object(s.g)((function(){return v.weatherInfo=e}))}))}));var w=n(12),N=n(117),y=n(116),k=Object(y.a)((function(){var e=Object(r.useContext)($);return Object(c.jsxs)("div",{className:"temp-switch flex align-center gap5",children:[Object(c.jsx)("small",{children:"\xb0F"}),Object(c.jsxs)("label",{className:"switch",children:[Object(c.jsx)("input",{type:"checkbox",onChange:function(){Object(s.g)((function(){return e.isMetric=!e.isMetric}))},checked:e.isMetric}),Object(c.jsx)("span",{className:"slider round"})]}),Object(c.jsx)("small",{children:"\xb0C"})]})})),C=function(){var e=Object(r.useState)(!1),t=Object(w.a)(e,2),a=t[0],s=t[1],o=Object(i.f)(),l=function(e){a&&s(!1),o.push(e)};return Object(c.jsxs)("header",{className:"main-container ".concat(a?"open":""),children:[Object(c.jsxs)("div",{className:"flex align-center space-between",children:[Object(c.jsxs)("div",{className:"flex gap5 align-center cursor-pointer",children:[Object(c.jsx)("img",{onClick:function(){return o.push("/")},src:n(75).default,alt:"logo",className:"logo"}),Object(c.jsx)("h1",{onClick:function(){return o.push("/")},children:"Cloudy"}),Object(c.jsx)("nav",{className:"flex align-center",children:Object(c.jsxs)("ul",{className:"clean-list flex align-center",children:[Object(c.jsx)("li",{onClick:function(){return l("/about")},children:"About"}),Object(c.jsx)("li",{onClick:function(){return l("/weather")},children:"Weather"})]})})]}),Object(c.jsx)(k,{}),Object(c.jsx)(N.a,{className:"hamburger",toggled:a,toggle:function(){return s(!a)},rounded:!0})]}),Object(c.jsx)("div",{onClick:function(){return s(!1)},className:"screen ".concat(a?"open":"")})]})},M=n(25),_=n.n(M),W=n(16),I=n(115),S=Object(y.a)((function(){var e=a.a.useRef(null),t=Object(I.a)((function(){return{now:_()(),get time(){return this.now.format("HH:mm:ss")},get date(){return this.now.format("dddd D/M/YYYY")},get hour(){return this.now.hour()},get greet(){return this.hour>=5&&this.hour<12?"Good Morning!":this.hour>=12&&this.hour<18?"Good Afternoon!":this.hour>=18&&this.hour<24?"Good Evening!":"Good Night!"}}}));return Object(r.useEffect)((function(){return e.current=setInterval((function(){Object(s.g)((function(){return t.now=_()()}))}),1e3),function(){clearInterval(e.current)}}),[]),Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsxs)("div",{className:"time flex column align-center space-around",children:[Object(c.jsx)("div",{className:"flex column space-between",children:Object(c.jsx)("h2",{children:t.greet})}),Object(c.jsxs)("h3",{children:["Today is ",t.date]}),Object(c.jsx)("h3",{children:"The time now is: "}),Object(c.jsx)("h3",{children:t.time})]}),Object(c.jsx)("div",{className:"cta-btn flex justify-center",children:Object(c.jsx)(W.b,{to:"/weather",children:Object(c.jsx)("button",{children:"Check Weather"})})})]})})),F=n.p+"static/media/react-original.7098e271.svg",L=n.p+"static/media/mobx.b2519d0d.svg",A=n.p+"static/media/sass-original.8ec16938.svg",P=function(){return Object(c.jsx)("section",{className:"main-container",children:Object(c.jsxs)("div",{className:"about flex column",children:[Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)("p",{children:"This is a weather app I created to experiment with MobX State Management."}),Object(c.jsx)("p",{children:"It's main features are:"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Clock + Date"}),Object(c.jsx)("li",{children:"Weather forecast for your geolocation"}),Object(c.jsx)("li",{children:"Weather forecast for other locations"}),Object(c.jsx)("li",{children:"Information represented in Metric/Imperial system"})]}),Object(c.jsx)("h4",{children:"This app has been coded using these technologies:"}),Object(c.jsxs)("div",{className:"tech-grid",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{alt:"react",src:F}),"React.js"]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{alt:"mobx",src:L}),"MobX"]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{alt:"sass",src:A}),"Sass"]})]}),Object(c.jsx)("h4",{children:"Weather information by WeatherAPI.com"})]})})},T=Object(y.a)((function(){var e=Object(r.useContext)($),t=Object(s.b)((function(t){e.locationMode!==t&&(e.weatherInfo=null,e.locationMode=t)}));return Object(c.jsx)("div",{className:"flex gap10",children:[{mode:"my-location",txt:"My Location"},{mode:"places",txt:"Other Places"}].map((function(n,r){return Object(c.jsx)("button",{className:"mode-btn ".concat(e.locationMode===n.mode?"location-mode-active":""),onClick:function(){return t(n.mode)},children:n.txt},r)}))})})),R=n(39),E=n.n(R),G=function(e){var t=e.places,n=e.pickLocation,r=e.isSearching,a=e.setSearchTerm;return t.length||r?Object(c.jsx)("ul",{className:"suggest-list clean-list",children:t.map((function(e,t){return Object(c.jsx)("li",{className:"suggest cursor-pointer",onClick:function(){return n(e)},children:e.name},t)}))}):Object(c.jsxs)("div",{className:"no-results flex column align-center",children:[Object(c.jsx)("h3",{className:"mb5",children:"No results found..."}),Object(c.jsx)("button",{onClick:function(){return a("")},children:"Clear search"})]})},B=n(40),D=Object(y.a)((function(){var e=Object(r.useContext)($),t=e.locationMode,n=e.locationCoords,a=Object(r.useState)(""),i=Object(w.a)(a,2),o=i[0],d=i[1],j=Object(r.useState)(!1),h=Object(w.a)(j,2),b=h[0],m=h[1],x=Object(r.useState)([]),p=Object(w.a)(x,2),O=p[0],g=p[1],v=Object(r.useRef)(null),N="my-location"===t;Object(r.useEffect)((function(){y(null),d(""),m(!1),"places"!==t?N&&(navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var n={lat:t.coords.latitude,lng:t.coords.longitude};f.getLocation(n).then((function(e){return d(e)})),Object(s.g)((function(){return e.locationCoords=n}))}),function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.code&&alert('Allow Location discovery to use "My Location" feature');case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):alert("Geolocation is not supported by this browser")):v.current.focus()}),[t]);var y=Object(r.useRef)(E.a.debounce((function(e){e&&f.getSuggestions(e).then((function(e){g(e),m(!1)}))}),1500)).current;return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{ref:v,className:"location",type:"search",value:o,placeholder:N?"Getting your location...":"Search for Location",onChange:function(t){return n=t.target.value,Object(s.g)((function(){e.locationCoords=null,e.weatherInfo=null})),g([]),d(n),m(!0),y(n),void(n||m(!1));var n},disabled:N}),Object(c.jsxs)("div",{children:[!N&&b&&Object(c.jsx)(B.WindMillLoading,{size:"large",className:"loading"}),!N&&!n&&!!o&&Object(c.jsx)(G,{isSearching:b,pickLocation:function(t){var n={lat:t.lat,lng:t.lon};Object(s.g)((function(){return e.locationCoords=n})),g([]),d(t.name)},places:O,setSearchTerm:d})]})]})}));function H(e){var t=e.current,n=e.location,r=e.isMetric,i=n.localtime.split(" ").splice(1,1)[0],s=t.last_updated;s=(s=s.split(" "))[1];var o=r?t.temp_c:t.temp_f,l=r?t.feelslike_c:t.feelslike_f,u=r?"".concat(t.precip_mm,"mm"):"".concat(t.precip_in,"in."),d="".concat(t.wind_dir," ").concat(r?t.wind_kph:t.wind_mph," ").concat(r?"kph":"mph");return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsxs)("div",{className:"current-title text-center",children:[Object(c.jsx)("h3",{children:"Current Weather:"}),Object(c.jsxs)("small",{className:"last-update",children:[" (as of ",s,")"]})]}),Object(c.jsxs)("article",{className:"current mb15",children:[Object(c.jsxs)("div",{className:"local-time",children:["Local time: ",i]}),Object(c.jsx)("h2",{className:"condition",children:t.condition.text}),Object(c.jsx)("div",{className:"condition-img",children:Object(c.jsx)("img",{src:t.condition.icon,alt:"condition"})}),Object(c.jsxs)("h3",{className:"temp",children:["Temperature: ",o,"\xb0",r?"C":"F"]}),Object(c.jsxs)("h3",{className:"feels",children:["Feels Like: ",l,"\xb0",r?"C":"F"]}),Object(c.jsxs)("div",{className:"extra-info",children:[Object(c.jsxs)("div",{className:"precip",children:["Precipitation: ",u]}),Object(c.jsxs)("div",{className:"humidity",children:["Humidity: ",t.humidity,"%"]}),Object(c.jsxs)("div",{className:"wind",children:["Wind: ",d]})]})]})]})}function Y(e){var t=e.isMetric,n=e.forecast.forecastday;return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("h3",{className:"text-center",children:"3 Day Forecast:"}),Object(c.jsx)("article",{className:"forecast mb15",children:n.map((function(e){var n=e.day,r=e.date.split("-").reverse().join("/"),a=t?"".concat(n.mintemp_c," - ").concat(n.maxtemp_c,"\xb0C"):"".concat(n.mintemp_f," - ").concat(n.maxtemp_f,"\xb0F"),i=t?n.maxwind_kph+" kph":n.maxwind_mph+" mph";return Object(c.jsxs)("div",{className:"forecast-day",children:[Object(c.jsx)("div",{className:"date",children:r}),Object(c.jsx)("div",{className:"condition",children:n.condition.text}),Object(c.jsx)("div",{className:"condition-img",children:Object(c.jsx)("img",{src:n.condition.icon,alt:"condition"})}),Object(c.jsxs)("div",{className:"temp",children:["Temperatures: ",a]}),Object(c.jsxs)("div",{className:"wind",children:["Max wind: ",i]}),Object(c.jsxs)("div",{className:"rain",children:["Rain chance: ",n.daily_chance_of_rain,"%"]}),Object(c.jsxs)("div",{className:"snow",children:["Snow chance: ",n.daily_chance_of_snow,"%"]})]},e.date)}))})]})}var U=Object(y.a)((function(){var e=Object(r.useContext)($),t=e.weatherInfo,n=e.isMetric,a=t.current,i=t.forecast,s=t.location;return Object(c.jsxs)("section",{children:[Object(c.jsx)(H,{location:s,current:a,isMetric:n}),Object(c.jsx)(Y,{forecast:i,isMetric:n})]})})),q=Object(y.a)((function(){var e=Object(r.useContext)($);return Object(c.jsxs)("section",{className:"weather flex column align-center flex-1",children:[Object(c.jsx)(T,{}),Object(c.jsx)(D,{}),e.weatherInfo&&Object(c.jsx)(U,{})]})})),z=n.p+"static/media/github-original.fad4b944.svg",J=n.p+"static/media/linkedin-original.6494960c.svg",X=function(){return Object(c.jsxs)("footer",{className:"flex align-center space-between",children:[Object(c.jsxs)("div",{className:"flex align-center gap5",children:[Object(c.jsx)("a",{href:"https://www.weatherapi.com/",title:"Free Weather API",children:Object(c.jsx)("img",{src:"//cdn.weatherapi.com/v4/images/weatherapi_logo.png",alt:"Weather data by WeatherAPI.com",border:"0"})}),Object(c.jsxs)("div",{className:"powered-by",children:["Powered by ",Object(c.jsx)("a",{href:"https://www.weatherapi.com/",title:"Weather API",children:"WeatherAPI.com"})]})]}),Object(c.jsxs)("div",{className:"copyright flex flex-end gap10",children:[Object(c.jsx)("a",{href:"https://github.com/tzookyb",children:Object(c.jsx)("img",{className:"social",src:z,title:"to my github profile",alt:"github"})}),Object(c.jsx)("a",{href:"https://www.linkedin.com/in/idanbenjamin",children:Object(c.jsx)("img",{className:"social",src:J,title:"to my linkedin profile",alt:"linkedin"})}),Object(c.jsxs)("small",{children:["\xa9 2020",Object(c.jsx)("br",{})," Idan Benjamin"]})]})]})},$=a.a.createContext(),K=function(e){var t=e.children;return Object(c.jsx)($.Provider,{value:v,children:t})};function Q(){return Object(c.jsx)(K,{children:Object(c.jsxs)("div",{className:"app flex column",children:[Object(c.jsx)(C,{}),Object(c.jsx)("main",{children:Object(c.jsxs)(i.c,{children:[Object(c.jsx)(i.a,{component:P,path:"/about"}),Object(c.jsx)(i.a,{component:q,path:"/weather"}),Object(c.jsx)(i.a,{component:S,path:"/"})]})}),Object(c.jsx)(X,{})]})})}},48:function(e,t,n){"use strict";n.r(t),function(e){var t=n(1),c=n(0),r=n.n(c),a=n(36),i=n.n(a),s=n(16),o=n(45),l=n(43),u=(n(112),n(44));console.clear(),i.a.render(Object(t.jsx)(r.a.StrictMode,{children:Object(t.jsx)(s.a,{children:Object(t.jsx)(o.b,{})})}),document.getElementById("root")),Object(u.a)(),l.a(),window.idan=e}.call(this,n(20))},75:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo.e50c6087.png"}},[[48,1,2]]]);
//# sourceMappingURL=main.1db62515.chunk.js.map